> 相关资料均来源网络
>
> 文章参考:
>
> [计算机网络知识点全面总结（有这一篇就够了！！！）-CSDN博客](https://blog.csdn.net/Royalic/article/details/119985591)
>
> [计算机网络基础知识总结 | 菜鸟教程](https://www.runoob.com/w3cnote/summary-of-network.html)

# 计算机网络知识点总结

> 计算机网络学习的核心内容就是网络协议的学习
>
> 简单来说，就是把一堆计算机和设备用通信线路连起来，让它们能互相“说话”和交换信息”
>
> 核心内容就是：
>   **分层处理 + 地址定位 + 路由转发 + 协议约定 + 安全保障**，

##　一．计算机网络概述

![计算机网络概述](https://i-blog.csdnimg.cn/blog_migrate/895d741c66859ca5024e325b32be24fc.png)

### 1.1计算机网络的分类

按照作用范围(大->小):广域网(WAN)、城域网(MAN)、局域网(LAN)

按照网络使用者:公用网络、专用网络。

### 1.2计算机网络层次结构

> 将复杂的网络通信拆分成一层一层的'小任务'

#### OSI七层模型

> 完整理论模型(国际标准)
>

| 层次           | 主要功能                                           | 常见协议/设备                    | 理解                                                        |
| -------------- | -------------------------------------------------- | -------------------------------- | ----------------------------------------------------------- |
| **物理层**     | 负责比特流的传输（0和1的电信号、光信号、无线电波） | 网线、光纤、交换机端口、WiFi信号 | **搬砖工**：把数据变成电流/光/无线电波发出去                |
| **数据链路层** | 在一个局域网内传输数据帧，标识设备地址（MAC地址）  | 以太网、PPP、ARP、交换机         | **小区物业**：负责小区里谁是谁，送到具体住户                |
| **网络层**     | 负责跨网络的寻址与路由，决定数据从源到目的的路径   | IP、ICMP、路由器                 | **导航系统**：决定走哪条高速路把包裹送过去                  |
| **传输层**     | 负责端到端的可靠/不可靠传输，端口号标识应用        | TCP、UDP                         | **快递方式**：顺丰（TCP，可靠）vs 纸飞机（UDP，快但可能丢） |
| **会话层**     | 建立、管理和终止会话（较少单独使用）               | SSL/TLS、RPC                     | **聊天房间管理员**：维持会话连接                            |
| **表示层**     | 数据的表示、压缩、加密/解密                        | JPEG、MP3、HTTPS加密             | **翻译官**：把不同语言的数据转换成大家都能看懂的格式        |
| **应用层**     | 面向用户的各种网络服务                             | HTTP/HTTPS、FTP、SMTP、DNS       | **应用商店**：用户直接接触到的服务，比如浏览网页、收发邮件  |

#### TCP/IP四层模型

> 实用模型
>
> 是对OSI七层模型的简化
>
> 互联网中广泛使用

| TCP/IP层次     | 对应OSI层次              | 主要功能/协议               |
| -------------- | ------------------------ | --------------------------- |
| **网络接口层** | 物理层 + 数据链路层      | 以太网、WiFi、ARP           |
| **网络层**     | 网络层                   | IP、ICMP、路由协议          |
| **传输层**     | 传输层                   | TCP、UDP                    |
| **应用层**     | 会话层 + 表示层 + 应用层 | HTTP、FTP、DNS、SMTP、TLS等 |

#### **TCP/IP四层模型与OSI体系结构对比**





![模型对比](https://i-blog.csdnimg.cn/blog_migrate/0b7273692fa8896534eef7aa42a84c55.jpeg)

## 二. 物理层(Physical Layer)

> **作用**:物理层连接不同的物理设备.传输比特流.该层为上层协议提供了一个传输数据的可靠物理媒体.
>
> 总之,物理层确保原始的数据可以在各种媒体上传输.
>
> **任务**:定义电器特性、机械特性、传输速率以及连接方式

### 1.传输介质

- 有线:双绞线、同轴电缆、光纤。
- 无线:Wifi、蓝牙、5G等

### 2.传输方式

**串行/并行传输**（优点 → 成本低、长距离好）。

**同步/异步传输**。

**单工/半双工/全双工**：

- 单工：只能一方传（广播电台）。
- 半双工：双方能传，但不能同时（对讲机）。
- 全双工：双方能同时传（电话）。

### 3.信号编码

- **基带信号**：直接发送原始数字信号。
- **带通信号**：通过调制（AM、FM等）把数字信号转成模拟信号再传输。

### 4.数据传输速率

- 码元速率（波特率）：每秒传输的码元数。是单位时间内信号的变化次数

- 数据速率（比特率）：每秒传输的比特数。是单位时间传输的数据量

关系（M 是每个码元可表示的状态数）：

$$
比特率=波特率*\log_2(M)
$$

## 三.数据链路层(Date Link Layer)

>其最基本的服务是将源自网络层来的数据可靠地传输到相邻节点的目标机网络层
>
>该层的作用包括：**物理地址寻址、数据的成帧、流量控制、数据的检错、重发等**。
>
>**基本数据单位为帧**(frame)
>
>**主要的协议：以太网协议**

### 1.核心功能

1. 封装成帧:

	- 把比特流划分成一个个有边界的数据帧。
	- 帧 = 帧头（MAC地址等） + 数据 + 帧尾（校验）。



2. 差错检测:

 - CRC循环冗余校验：判断数据是否出错(缺点:**只能检测错误，不能纠正**。)
 - 奇偶校验码–局限性：**当出错两位时，检测不到错误。**



3. 流量控制

- 控制发送速率，避免接收方处理不过来。

4. 介质访问控制（MAC)

- 决定谁能在某一时刻使用信道。
- 典型协议：
  - **CSMA/CD**（载波监听多路访问/冲突检测，用在以太网，半双工）。
  - **CSMA/CA**（冲突避免，用在无线局域网 WiFi）。



### 2.MTU

> **MTU（Maximum Transmission Unit，最大传输单元）**
>  → **数据链路层**一次能传送的 **最大数据载荷大小（单位：字节）**[不包括帧头和帧尾部,只有数据部分]

1. 不同的链路MTU也不同(以太网->1500B  PPP链路:(一般)576B)

2. 如果网络层给的数据太大就必须再链路层按MTU切分(分片)

3. 和帧长度的关系
   $$
   帧总长度=帧头+数据(\leq MTU)+帧尾
   $$
   
   
   

### 3.以太网协议

> 是数据链路层最常用的实现协议,使用以太网可以完成**相邻设备**的数据帧传输

![以太网帧结构](https://i-blog.csdnimg.cn/blog_migrate/266cae08c7bd59e60a8ba5f76bae5218.png)

1. 目的地址和源地址(均为6字节)
2. 类型(标识上层协议,2字节)
3. 以太网最短帧：以太网帧最短64字节；以太网帧除了数据部分18字节；数据最短46字节；
4. CRC：循环冗余码（4字节）

##　四．网络层

> 网络层的目的是实现两个端(端到端->跨网络)系统之间的数据透明传送，具体功能包括寻址和路由选择、连接的建立、保持和终止等。数据交换技术是报文交换（基本上被分组所替代）：采用储存转发方式，数据交换单位是报文。

![网络层协议](https://i-blog.csdnimg.cn/blog_migrate/438b66eadbb17ac8237b2ffbd1d02f79.png)

### 1.IP协议

> ​	网络层中涉及众多的协议，其中包括最重要的协议，也是**TCP/IP的核心协议——IP协议**。IP协议非常简单，**仅仅提供不可靠、无连接的传送服务**。

1. **IP的作用**

		- 逻辑寻址----给每台设备分配一个 **IP 地址**，用于在全球范围内唯一标识。
		- 路由选择----决定数据包从源到目的地要经过哪些路径
		- 封装与分片----把上层数据（如 TCP/UDP）装进 **IP 数据报**，并根据 MTU 进行分片传

2. **ip数据包的结构**

   ![IP数据报格式](https://i-blog.csdnimg.cn/blog_migrate/f822041c770247ba6672151eca4a31ed.png)

| 字段             | 长度 (位) | 说明                                                                 |
|------------------|-----------|----------------------------------------------------------------------|
| **版本** (Version) | 4         | 协议版本号，常见 4（IPv4），6（IPv6）。                              |
| **首部长度** (IHL) | 4         | IP 首部的长度，以 32bit（4字节）为单位，最小 5（即 20 字节）。       |
| 服务类型 (TOS)   | 8         | 区分服务，如优先级、延迟、吞吐量需求（后来演变为 DSCP/ECN）。        |
| **总长度**(数据报长度) | 16        | 整个 IP 数据报的长度（首部 + 数据），最大 65535 字节。                |
| 标识 (Identification) | 16    | 分片时用来标识属于同一个数据报的分片。                                |
| 标志 (Flags)     | 3         | 分片控制位：DF(不分片)、MF(更多分片)。                               |
| **片偏移** (Fragment Offset) | 13 | 表示分片在原始数据报中的相对位置，以 8 字节为单位。                   |
| **生存时间** (TTL) | 8         | 数据报在网络中能经过的最大路由跳数，每经过一个路由器减 1，0 则丢弃。 |
| **上层协议**       | 8         | 指示上层使用的协议：TCP(6)，UDP(17)，ICMP(1) 等。                    |
| 首部校验和       | 16        | 只校验 IP 首部的正确性，每次路由转发都需要重新计算。                  |
| 源 IP 地址       | 32        | 数据报的发送方 IP 地址。                                              |
| 目的 IP 地址     | 32        | 数据报的接收方 IP 地址。                                              |
| 可选字段 (Options) | 0-320    | 可选的控制和调试功能，不常用。                                       |
| 填充 (Padding)   | 可变      | 补齐首部长度为 32 位（4 字节）的整数倍。                             |
| 数据部分         | 可变      | 封装的上层数据（如 TCP 段、UDP 数据报）。                             |

3. **IP协议的转发流程**

   ![IP协议的转发流程](https://i-blog.csdnimg.cn/blog_migrate/522631d75902e675703e592192137be1.png)

   

   4. **子网划分**

      > 原始IP地址=网络号+主机号
      >
      > **子网划分**就是从 **主机号** 里借几位出来当 **子网号**，把一个大网络分成多个小网络:
      >
      > IP地址=网络号+子网号+主机号

      

   


##　名词查阅

- 码元

> **码元（symbol）**：在通信系统里，**用来表示一段时间内传输的基本信号单位**。
>
> 它可以是一个电压、电流、光脉冲或者无线电波状态。
>
> 如果用 **高电压表示1，低电压表示0**，那一个电压状态就是一个码元。
>
> 或者用 4种不同的电压：
>
> - 00 → 电压A
>
> - 01 → 电压B
>
> - 10 → 电压C
>
> - 11 → 电压D
>
>   那么**一个码元就能携带2个比特的信息**。

- MAC地址

> 1. MAC**地址长度为6字节**，48位；
> 2. MAC地址**具有唯一性**，每个**网络适配器**对应一个MAC地址；
> 3. 通常采用十六进制表示法，每个字节表示一个十六进制数，用 - 或 : 连接起来；
> 4. MAC广播地址：FF-FF-FF-FF-FF-FF。





